# Reflection: สิ่งที่ได้เรียนรู้จาก Lab Week 4

## 1. สิ่งที่เรียนรู้ (Key Takeaways)
* **Separation of Concerns:** เข้าใจความสำคัญของการแยกหน้าที่ (ใครทำหน้าที่อะไร) อย่างชัดเจน
* **Layered Architecture:** เข้าใจการไหลของข้อมูลจาก Controller -> Service -> Repository
* **Refactoring:** เรียนรู้วิธีการแกะโค้ดจากไฟล์ใหญ่ๆ (Monolithic) มาจัดระเบียบใหม่โดยที่การทำงานยังต้องเหมือนเดิม

## 2. ประโยชน์ที่เห็นได้ชัด
* **Debug ง่ายขึ้น:** เวลาเจอ Error (เช่น Validation ผิด) รู้ทันทีว่าต้องไปดูที่ Service ไม่ต้องสุ่มหา
* **โค้ดสะอาดตา:** ไฟล์ `server.js` สะอาดมาก เหลือแค่การตั้งค่า Route เท่านั้น
* **ความยืดหยุ่น:** รู้สึกว่าถ้าต้องเพิ่มฟีเจอร์ใหม่ๆ จะทำได้ง่ายกว่าแบบเดิม เพราะโครงสร้างรองรับไว้แล้ว

## 3. ปัญหาและอุปสรรค
* **ความสับสนในช่วงแรก:** งงว่าจะเอาโค้ดส่วนไหนไปไว้ไฟล์ไหนดี โดยเฉพาะเส้นแบ่งระหว่าง Controller กับ Service
* **Async/Await:** ต้องใส่ `await` ต่อกันเป็นทอดๆ ถ้าลืมใส่ที่ Layer ไหนค่าก็จะไม่ส่งกลับมา
* **Route Ordering:** เจอปัญหาเรื่องลำดับ Route (เช่น `/stats` ต้องมาก่อน `/:id`) ซึ่งเป็นบทเรียนที่ดีเรื่อง Express Router

## 4. สรุปภาพรวม
Lab นี้ช่วยให้เห็นภาพการเขียนโค้ดแบบมืออาชีพมากขึ้น แม้จะเสียเวลาตั้งโครงสร้างในช่วงแรก แต่คุ้มค่ามากสำหรับการทำงานจริงและการทำงานเป็นทีม